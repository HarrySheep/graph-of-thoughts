# 4. 实验设置 (Experimental Setup)

为了验证 GoT 框架在自动化功能点评估任务中的有效性，我们设计了一系列对比实验。本章将详细介绍实验所用的数据集构建方法、多维度评估指标体系以及具体的实验环境配置。

## 4.1 数据集构建 (Dataset Construction)

由于公共领域缺乏带标注的软件功能点分析数据集，本研究构建了一个源自真实工业项目的专用评测数据集。

*   **数据来源**：选取了企业级管理系统（如人力资源管理系统、审计管理系统、系统安全控制模块等）的需求规格说明书作为原始语料。这些文档涵盖了复杂的业务逻辑、数据流向描述及权限控制规则。
*   **标注标准**：由 3 位持有 CFPS（Certified Function Point Specialist）认证的专家组成标注小组。他们依据《IFPUG 计数实践手册 (CPM) 4.3.1》标准，对每个需求文档进行了同行评审，最终确定的功能点列表作为实验的 Ground Truth。
*   **数据格式**：每条样本包含三个关键字段：
    *   `Requirement_Text`: 原始需求描述文本。
    *   `True_ILF`: 经专家确认的内部逻辑文件（ILF）列表。
    *   `True_EIF`: 经专家确认的外部接口文件（EIF）列表。

## 4.2 评估指标 (Evaluation Metrics)

针对功能点识别任务中存在的“语义同义”问题（如模型输出“用户信息表”而标准答案为“User Profile”），传统的精确字符串匹配难以客观反映模型性能。因此，本研究引入了一套结合语义理解的混合评估指标。

### 4.2.1 基础效能指标
采用信息检索领域的标准指标来衡量模型的整体性能：
*   **Precision (精确率)**：$\frac{TP}{TP + FP}$，反映模型识别的准确性，即预测出的功能点中有多少是正确的。
*   **Recall (召回率)**：$\frac{TP}{TP + FN}$，反映模型识别的完整性，即真实的功能点有多少被模型成功发现。
*   **F1 Score**：Precision 与 Recall 的调和平均数，作为衡量模型综合表现的核心指标。

### 4.2.2 语义感知匹配指标 (Semantic-aware Matching Metrics)
为了解决跨语言（中英文混合）及同义词表达的匹配难题，我们设计了基于 LLM 的语义相似度校验机制：

1.  **Exact Matches (精确匹配数)**：
    指预测结果与 Ground Truth 在标准化（去除大小写、空格）后完全一致的数量。

2.  **Semantic Similarity Score (语义相似度得分)**：
    对于未精确匹配的项，引入一个独立的 LLM 评分器（Scorer）计算其与 Ground Truth 的语义距离 $Sim(p, t)$。当 $Sim(p, t) > \tau$（本实验中 $\tau=0.7$）时，视为有效匹配。
    *   **应用场景**：能够正确识别 "Suspended Job" (英) 与 "职位挂起文件" (中) 为同一实体。

3.  **Fuzzy Score (模糊匹配总分)**：
    是所有通过语义校验的匹配项的相似度累加值。该指标比单纯的 True/False 计数更为细腻，能够奖励那些“虽然名称不同但语义高度接近”的预测结果。

$$ FuzzyScore = \sum_{p \in Pred, t \in Truth} \mathbb{I}(Sim(p,t) > 0.7) \cdot Sim(p,t) $$

## 4.3 实验环境配置 (Experimental Configuration)

### 4.3.1 模型设置
*   **基座模型**：实验主要基于 `r1-7b` 模型进行。该模型具备较强的指令遵循能力与推理性能，适合处理复杂的逻辑分析任务。
*   **参数配置**：
    *   Temperature: 设置为 1.0 以激发思维的多样性（对于 Generate 操作）。
    *   Max Tokens: 依据任务复杂度动态调整，通常限制在 2048 以内。

### 4.3.2 对比基准
我们将 GoT 框架与以下三种主流推理范式进行了横向对比：
1.  **Input-Output (IO)**：零样本直接推理，作为性能基线。
2.  **Chain of Thought (CoT)**：通过“识别-验证-分类”的线性思维链进行引导。
3.  **Tree of Thoughts (ToT)**：引入“生成-评分-优选”的迭代机制，但在单一思维维度上进行深度搜索（Depth=3, Branch=1）。

### 4.3.3 GoT 拓扑参数
GoT 框架的具体拓扑结构配置如下：
*   **视角分支 (Perspectives)**：3 个并行分支（用户、系统、规则）。
*   **操作序列**：
    *   Generate ($k=1$): 每个视角独立生成 1 个初始分析。
    *   Score & KeepBest ($k=1$): 对生成的分析进行质量打分并保留最佳项。
    *   Aggregation (Merge): 执行多视角结果的逻辑交集与冲突仲裁。
*   **资源预算**：限制每个样本的推理预算为 $5.00，以评估各方法在成本效益上的表现。
