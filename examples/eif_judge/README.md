# 功能点评估 (Function Point Counting)

本示例展示了如何使用Graph of Thoughts方法来实现IFPUG功能点评估。

## 问题描述

IFPUG功能点评估是一种软件规模度量方法，需要分析软件系统的需求文档，识别和计数以下类型的功能：
1. 内部逻辑文件 (Internal Logical Files, ILF)
2. 外部接口文件 (External Interface Files, EIF)
3. 外部输入 (External Inputs, EI)
4. 外部输出 (External Outputs, EO)
5. 外部查询 (External Inquiries, EQ)

每种功能类型都有其特定的识别规则和复杂度评估标准。本示例主要关注EIF的识别和评估过程。

## 方法设计

我们将使用Graph of Thoughts (GoT)方法来实现EIF的识别和评估，主要包含以下步骤：

1. **候选项识别**：
   - 分析需求文档，识别所有可能的外部数据组
   - 为每个数据组生成多个可能的解释，说明其是否构成EIF
   - 使用评分函数对每个解释进行评分

2. **规则验证**：
   - 检查每个候选EIF是否满足以下条件：
     - 是否逻辑上独立且用户可识别
     - 是否被当前应用引用，但物理/逻辑上存在于当前应用之外
     - 是否不由当前应用进行维护（即只读，不增删改）
   - 生成验证结果和理由

3. **结果聚合**：
   - 合并重复或相关的EIF
   - 解决冲突的判断
   - 生成最终的EIF列表和计数结果

## 实现方案

### 1. 图结构设计

```
[文档分析] → [候选项识别] → [规则验证] → [结果聚合]
    ↓             ↓            ↓           ↓
[分段处理] → [多视角解释] → [条件检查] → [冲突处理]
```

### 2. 操作定义

1. **Generate操作**：
   - 输入：需求文档文本
   - 输出：候选EIF列表，每个候选项包含：
     - 数据组名称
     - 相关属性
     - 数据来源和位置
     - 访问方式（只读/读写）
     - 是否EIF的初步判断

2. **Score操作**：
   - 输入：候选EIF及其解释
   - 输出：评分（0-10），基于：
     - 解释的完整性
     - 与IFPUG规则的符合度
     - 理由的充分性

3. **Verify操作**：
   - 输入：高分候选EIF
   - 输出：验证结果，包含：
     - 是否满足EIF条件
     - 详细理由
     - 可能的问题点

4. **Aggregate操作**：
   - 输入：验证后的EIF列表
   - 输出：最终结果，包含：
     - 确认的EIF列表
     - 每个EIF的理由
     - 总EIF计数

### 3. 评估标准

1. **完整性**：是否识别出所有符合条件的EIF
2. **准确性**：判断是否符合IFPUG标准
3. **一致性**：相似情况下判断是否一致
4. **可解释性**：提供清晰的理由和依据

## EIF 判断标准

外部接口文件（EIF）必须同时满足以下三个条件：

1. **逻辑上独立且用户可识别**
   - 数据组在逻辑上是独立的、完整的实体
   - 用户能够识别和理解这个数据组的业务含义

2. **被当前应用引用，但物理/逻辑上存在于当前应用之外**
   - 数据由外部系统或应用维护
   - 当前应用通过接口访问该数据
   - 数据存储在应用边界之外

3. **不由当前应用进行维护（即只读，不增删改）**
   - 当前应用只能读取该数据
   - 不能对该数据进行增加、删除或修改操作
   - 数据的维护由其他应用或系统负责

## 示例数据

提供了多个示例需求文档，涵盖各种EIF场景，包括：
1. 员工信息（从其他系统引用）
2. 职位信息（从固定资产系统获取）
3. 其他外部系统数据引用场景

每个示例都包含需求描述和功能点分析结果。

## 执行

使用以下命令运行示例：
```bash
python function_point.py
```

## 结果分析

1. **准确率评估**：
   - 与人工评估结果对比
   - 分析错误案例
   - 总结改进方向

2. **效率分析**：
   - 处理时间统计
   - 资源消耗评估
   - 可扩展性分析

## 参考资料

1. IFPUG功能点计数实践手册（4.3版）- EIF部分
2. Graph of Thoughts: Solving Elaborate Problems with Large Language Models
3. 功能点分析最佳实践指南
4. EIF识别指南与案例 