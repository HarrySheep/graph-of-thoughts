# 功能点评估 (Function Point Counting)

本示例展示了如何使用Graph of Thoughts方法来实现IFPUG功能点评估。

## 问题描述

IFPUG功能点评估是一种软件规模度量方法，需要分析软件系统的需求文档，识别和计数以下类型的功能：
1. 内部逻辑文件 (Internal Logical Files, ILF)
2. 外部接口文件 (External Interface Files, EIF)
3. 外部输入 (External Inputs, EI)
4. 外部输出 (External Outputs, EO)
5. 外部查询 (External Inquiries, EQ)

每种功能类型都有其特定的识别规则和复杂度评估标准。本示例主要关注ILF的识别和评估过程。

## 方法设计

我们将使用Graph of Thoughts (GoT)方法来实现ILF的识别和评估，主要包含以下步骤：

1. **候选项识别**：
   - 分析需求文档，识别所有可能的数据组
   - 为每个数据组生成多个可能的解释，说明其是否构成ILF
   - 使用评分函数对每个解释进行评分

2. **规则验证**：
   - 检查每个候选ILF是否满足以下条件：
     - 是否是用户可识别的逻辑相关数据组
     - 是否在应用边界内维护
     - 是否通过应用的基本流程维护
   - 生成验证结果和理由

3. **结果聚合**：
   - 合并重复或相关的ILF
   - 解决冲突的判断
   - 生成最终的ILF列表和计数结果

## 实现方案

### 1. 图结构设计

```
[文档分析] → [候选项识别] → [规则验证] → [结果聚合]
    ↓             ↓            ↓           ↓
[分段处理] → [多视角解释] → [条件检查] → [冲突处理]
```

### 2. 操作定义

1. **Generate操作**：
   - 输入：需求文档文本
   - 输出：候选ILF列表，每个候选项包含：
     - 数据组名称
     - 相关属性
     - 维护方式
     - 是否ILF的初步判断

2. **Score操作**：
   - 输入：候选ILF及其解释
   - 输出：评分（0-10），基于：
     - 解释的完整性
     - 与IFPUG规则的符合度
     - 理由的充分性

3. **Verify操作**：
   - 输入：高分候选ILF
   - 输出：验证结果，包含：
     - 是否满足ILF条件
     - 详细理由
     - 可能的问题点

4. **Aggregate操作**：
   - 输入：验证后的ILF列表
   - 输出：最终结果，包含：
     - 确认的ILF列表
     - 每个ILF的理由
     - 总ILF计数

### 3. 评估标准

1. **完整性**：是否识别出所有符合条件的ILF
2. **准确性**：判断是否符合IFPUG标准
3. **一致性**：相似情况下判断是否一致
4. **可解释性**：提供清晰的理由和依据

## 示例数据

提供了多个示例需求文档，包括：
1. 职位信息管理
2. 系统安全控制
3. 审计数据管理
4. 挂起职位处理
5. 报表定义管理
6. 索引管理
7. 共享数据管理
8. 多用户数据视图

每个示例都包含需求描述和功能点分析结果。

## 执行

使用以下命令运行示例：
```bash
python function_point.py
```

## 结果分析

1. **准确率评估**：
   - 与人工评估结果对比
   - 分析错误案例
   - 总结改进方向

2. **效率分析**：
   - 处理时间统计
   - 资源消耗评估
   - 可扩展性分析

## 参考资料

1. IFPUG功能点计数实践手册（4.3版）
2. Graph of Thoughts: Solving Elaborate Problems with Large Language Models
3. 功能点分析最佳实践指南 